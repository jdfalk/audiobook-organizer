{
  "timestamp": "2025-11-11 20:45:02",
  "base_url": "http://localhost:8080",
  "total_tests": 27,
  "passed": 25,
  "failed": 2,
  "results": [
    {
      "endpoint": "/api/health",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 6.759881973266602,
      "response": {
        "database_type": "pebble",
        "metrics": {
          "authors": 0,
          "books": 0,
          "playlists": 0,
          "series": 0
        },
        "status": "ok",
        "timestamp": 1762911902,
        "version": "1.1.0"
      }
    },
    {
      "endpoint": "/api/v1/audiobooks",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.8780956268310547,
      "response": {
        "count": 0,
        "items": [],
        "limit": 10,
        "offset": 0
      }
    },
    {
      "endpoint": "/api/v1/audiobooks/01HXZ123456789ABCDEFGHJ",
      "method": "GET",
      "status_code": 404,
      "success": true,
      "error": null,
      "duration_ms": 0.6101131439208984,
      "response": {
        "error": "audiobook not found"
      }
    },
    {
      "endpoint": "/api/v1/audiobooks/01HXZ123456789ABCDEFGHJ",
      "method": "PUT",
      "status_code": 404,
      "success": true,
      "error": null,
      "duration_ms": 0.6859302520751953,
      "response": {
        "error": "audiobook not found"
      }
    },
    {
      "endpoint": "/api/v1/audiobooks/01HXZ123456789ABCDEFGHJ",
      "method": "DELETE",
      "status_code": 204,
      "success": false,
      "error": "Expected 404, got 204",
      "duration_ms": 0.5488395690917969,
      "response": {
        "raw": ""
      }
    },
    {
      "endpoint": "/api/v1/audiobooks/batch",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.6649494171142578,
      "response": {
        "failed": 0,
        "message": "no items to update",
        "success": 0,
        "total": 0
      }
    },
    {
      "endpoint": "/api/v1/authors",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.6928443908691406,
      "response": {
        "count": 0,
        "items": []
      }
    },
    {
      "endpoint": "/api/v1/series",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.6010532379150391,
      "response": {
        "count": 0,
        "items": []
      }
    },
    {
      "endpoint": "/api/v1/filesystem/browse",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 1.1091232299804688,
      "response": {
        "count": 21,
        "disk_info": {
          "exists": true,
          "readable": true,
          "writable": true
        },
        "items": [
          {
            "name": ".VolumeIcon.icns",
            "path": "/.VolumeIcon.icns",
            "is_dir": false,
            "size": 36,
            "mod_time": 1758783812,
            "excluded": false
          },
          {
            "name": ".file",
            "path": "/.file",
            "is_dir": false,
            "mod_time": 1758783812,
            "excluded": false
          },
          {
            "name": ".nofollow",
            "path": "/.nofollow",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": ".resolve",
            "path": "/.resolve",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": ".vol",
            "path": "/.vol",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "Applications",
            "path": "/Applications",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "Library",
            "path": "/Library",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "System",
            "path": "/System",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "Users",
            "path": "/Users",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "Volumes",
            "path": "/Volumes",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "bin",
            "path": "/bin",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "cores",
            "path": "/cores",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "dev",
            "path": "/dev",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "etc",
            "path": "/etc",
            "is_dir": false,
            "size": 11,
            "mod_time": 1758783812,
            "excluded": false
          },
          {
            "name": "home",
            "path": "/home",
            "is_dir": false,
            "size": 25,
            "mod_time": 1759435052,
            "excluded": false
          },
          {
            "name": "opt",
            "path": "/opt",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "private",
            "path": "/private",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "sbin",
            "path": "/sbin",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "tmp",
            "path": "/tmp",
            "is_dir": false,
            "size": 11,
            "mod_time": 1758783812,
            "excluded": false
          },
          {
            "name": "usr",
            "path": "/usr",
            "is_dir": true,
            "excluded": false
          },
          {
            "name": "var",
            "path": "/var",
            "is_dir": false,
            "size": 11,
            "mod_time": 1758783812,
            "excluded": false
          }
        ],
        "path": "/"
      }
    },
    {
      "endpoint": "/api/v1/library/folders",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.9007453918457031,
      "response": {
        "count": 0,
        "folders": []
      }
    },
    {
      "endpoint": "/api/v1/operations/01HXZ123456789ABCDEFGHJ/status",
      "method": "GET",
      "status_code": 404,
      "success": true,
      "error": null,
      "duration_ms": 0.7538795471191406,
      "response": {
        "error": "operation not found"
      }
    },
    {
      "endpoint": "/api/v1/operations/01HXZ123456789ABCDEFGHJ/logs",
      "method": "GET",
      "status_code": 200,
      "success": false,
      "error": "Expected 404, got 200",
      "duration_ms": 0.6170272827148438,
      "response": {
        "count": 0,
        "items": null
      }
    },
    {
      "endpoint": "/api/v1/system/status",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.4982948303222656,
      "response": {
        "message": "Get system status - not implemented yet"
      }
    },
    {
      "endpoint": "/api/v1/system/logs",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.5879402160644531,
      "response": {
        "message": "system logs not implemented; pass operation_id to query operation logs"
      }
    },
    {
      "endpoint": "/api/v1/config",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.5269050598144531,
      "response": {
        "config": {
          "RootDir": "",
          "DatabasePath": "audiobooks.pebble",
          "DatabaseType": "pebble",
          "EnableSQLite": false,
          "PlaylistDir": "playlists",
          "APIKeys": {
            "Goodreads": ""
          },
          "SupportedExtensions": [
            ".m4b",
            ".mp3",
            ".m4a",
            ".aac",
            ".ogg",
            ".flac",
            ".wma"
          ]
        }
      }
    },
    {
      "endpoint": "/api/v1/backup/list",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.5700588226318359,
      "response": {
        "backups": [],
        "count": 0
      }
    },
    {
      "endpoint": "/api/v1/metadata/batch-update",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.8139610290527344,
      "response": {
        "success_count": 0,
        "total_count": 0
      }
    },
    {
      "endpoint": "/api/v1/metadata/validate",
      "method": "POST",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.7638931274414062,
      "response": {
        "message": "metadata is valid",
        "valid": true
      }
    },
    {
      "endpoint": "/api/v1/metadata/export",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.6361007690429688,
      "response": {
        "books": [],
        "count": 0,
        "exported_at": "2025-11-11T20:45:02-05:00"
      }
    },
    {
      "endpoint": "/api/v1/works",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.5776882171630859,
      "response": {
        "count": 0,
        "items": []
      }
    },
    {
      "endpoint": "/api/v1/works",
      "method": "POST",
      "status_code": 201,
      "success": true,
      "error": null,
      "duration_ms": 2.994060516357422,
      "response": {
        "id": "01K9TVSPR21X4MER04N4Q8B31H",
        "title": "API Test Work"
      }
    },
    {
      "endpoint": "/api/v1/works/01K9TVSPR21X4MER04N4Q8B31H",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 0.8115768432617188,
      "response": {
        "id": "01K9TVSPR21X4MER04N4Q8B31H",
        "title": "API Test Work"
      }
    },
    {
      "endpoint": "/api/v1/works/01K9TVSPR21X4MER04N4Q8B31H",
      "method": "PUT",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 4.489898681640625,
      "response": {
        "id": "01K9TVSPR21X4MER04N4Q8B31H",
        "title": "API Test Work (Updated)"
      }
    },
    {
      "endpoint": "/api/v1/works/01K9TVSPR21X4MER04N4Q8B31H/books",
      "method": "GET",
      "status_code": 200,
      "success": true,
      "error": null,
      "duration_ms": 1.0368824005126953,
      "response": {
        "count": 0,
        "items": []
      }
    },
    {
      "endpoint": "/api/v1/works/01K9TVSPR21X4MER04N4Q8B31H",
      "method": "DELETE",
      "status_code": 204,
      "success": true,
      "error": null,
      "duration_ms": 4.740238189697266,
      "response": {
        "raw": ""
      }
    },
    {
      "endpoint": "/api/v1/works",
      "method": "POST",
      "status_code": 400,
      "success": true,
      "error": null,
      "duration_ms": 0.675201416015625,
      "response": {
        "error": "title is required"
      }
    },
    {
      "endpoint": "/api/v1/works/01HXXXXXXXXXXXXXXXXXXX",
      "method": "GET",
      "status_code": 404,
      "success": true,
      "error": null,
      "duration_ms": 0.6890296936035156,
      "response": {
        "error": "work not found"
      }
    }
  ]
}